<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>킹스채플교회</title>
  <link rel="stylesheet" href="css/common.css">

  <style>
    html, body {
      margin: 0;
      padding: 0;
      font-family: "Noto Sans KR", Arial, sans-serif;
    }

    /* ===================== MAIN SLIDER ==================== */
    .slider {
      position: relative;
      width: 100%;
      height: 500px;
      overflow: hidden;
    }

    .slider img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }

    .arrow {
      position: absolute;
      top: 50%;
      transform: translateY(-50%);
      background: rgba(0,0,0,0.4);
      color: white;
      border: none;
      font-size: 28px;
      padding: 10px 14px;
      cursor: pointer;
      z-index: 10;
    }

    .arrow.left { left: 20px; }
    .arrow.right { right: 20px; }

    /* ===================== PASTOR SECTION ==================== */
    .pastor-section img {
      width: 100%;
      height: 450px;
      object-fit: cover;
      display: block;
      margin-bottom: 20px;
    }

    /* ===================== WEEKLY POST ==================== */
    .content {
      padding: 20px 40px;
    }

    .post {
      border: 1px solid #ccc;
      padding: 10px;
      margin-bottom: 15px;
      display: flex;
      align-items: center;
      gap: 20px;
    }

    .post img {
      width: 150px;
      height: 100px;
      object-fit: cover;
    }

    .post-info {
      flex: 1;
    }

    .post-info h3 {
      margin: 0;
      font-size: 18px;
    }

    .post-info p {
      margin: 5px 0;
      font-size: 14px;
      color: #555;
    }

    .buttons button {
      margin-right: 10px;
      padding: 5px 10px;
      cursor: pointer;
    }

    #writeForm {
      display: none;
      margin-bottom: 20px;
    }

    #writeForm input, #writeForm textarea {
      width: 100%;
      margin-bottom: 10px;
      padding: 5px;
      font-size: 14px;
    }

    /* ===================== FOOTER ==================== */
    footer {
      background-color: #2c3e50;
      color: white;
      text-align: center;
      padding: 20px;
      font-size: 14px;
    }

    footer a {
      color: white;
      text-decoration: none;
    }

    footer a:hover {
      text-decoration: underline;
    }
  </style>
</head>
<body>

  <!-- ===================== HEADER ==================== -->
  <header>
    <nav>
      <div class="logo">
        <a href="index.html"><img src="logo.png" alt="교회 로고"></a>
      </div>
      <div class="menu-area">
        <div class="menu">
          <a href="javascript:void(0)">교회소개</a>
          <div class="submenu">
            <a href="pastors.html">교역자 소개</a>
            <a href="#">인사말 및 목회비전</a>
            <a href="#">교회이력</a>
            <a href="#">예배안내</a>
            <a href="#">오시는 길</a>
          </div>
        </div>
        <div class="menu">
          <a href="javascript:void(0)">예배영상</a>
          <div class="submenu">
            <a href="#">주일예배</a>
            <a href="#">수요찬양예배</a>
          </div>
        </div>
        <div class="menu">
          <a href="javascript:void(0)">갤러리</a>
          <div class="submenu">
            <a href="#">특별집회</a>
            <a href="#">수요찬양예배</a>
            <a href="#">찬양사역자 특순</a>
            <a href="#">문화교실</a>
          </div>
        </div>
        <div class="menu">
          <a href="javascript:void(0)">주간소식</a>
          <div class="submenu">
            <a href="#weeklyPost">주보</a>
          </div>
        </div>

        <a href="mission.html" class="menu-single">선교지소식</a>
        <a href="class.html" class="menu-single">문화교실 일정</a>
        <a href="facility.html" class="menu-single">공간 및 시설</a>
      </div>
    </nav>
  </header>

  <!-- ===================== MAIN SLIDER ==================== -->
  <div class="slider">
    <button class="arrow left" onclick="prevImage()">&#10094;</button>
    <img id="sliderImage" src="images/image1.png">
    <button class="arrow right" onclick="nextImage()">&#10095;</button>
  </div>

  <!-- ===================== PASTOR SECTION ==================== -->
  <div class="pastor-section">
    <img src="images/pastor/pastor1.jpg" alt="교역자 이미지 1">
    <img src="images/pastor/pastor2.jpg" alt="교역자 이미지 2">
  </div>

  <!-- ===================== WEEKLY POST ==================== -->
  <div class="content" id="weeklyPost">
    <h2>주간소식 - 주보</h2>

    <button onclick="toggleForm()">글쓰기</button>
    <div id="writeForm">
      <input type="text" id="title" placeholder="제목 입력">
      <input type="date" id="date">
      <input type="text" id="imageURL" placeholder="이미지 URL">
      <textarea id="contentInput" rows="4" placeholder="내용 입력"></textarea>
      <button onclick="addPost()">등록</button>
      <button onclick="toggleForm()">취소</button>
    </div>

    <div id="postList"></div>
  </div>

  <!-- ===================== FOOTER ==================== -->
  <footer>
    E-mail: <a href="mailto:kh9191@hanmail.net">kh9191@hanmail.net</a> |
    Call: <a href="tel:0262427017">02-6242-7017</a> |
    Fax: 02-6242-7018
  </footer>

  <script>
    // ===== MAIN SLIDER =====
    const images = ["images/image1.png", "images/image5.jpeg", "images/image6.jpeg"];
    let currentIndex = 0;
    const sliderImage = document.getElementById("sliderImage");

    function showImage(i) {
      sliderImage.src = images[i];
    }

    function nextImage() {
      currentIndex = (currentIndex + 1) % images.length;
      showImage(currentIndex);
    }

    function prevImage() {
      currentIndex = (currentIndex - 1 + images.length) % images.length;
      showImage(currentIndex);
    }

    // ===== WEEKLY POST =====
    const postList = document.getElementById('postList');
    const writeForm = document.getElementById('writeForm');
    let posts = [];

    function toggleForm() {
      writeForm.style.display = writeForm.style.display === 'none' ? 'block' : 'none';
    }

    function addPost() {
      const title = document.getElementById('title').value;
      const date = document.getElementById('date').value;
      const imageURL = document.getElementById('imageURL').value;
      const content = document.getElementById('contentInput').value;

      if (!title || !date || !imageURL || !content) {
        alert('모든 항목을 입력해주세요.');
        return;
      }

      posts.push({ title, date, imageURL, content });
      renderPosts();
      clearForm();
      toggleForm();
    }

    function clearForm() {
      document.getElementById('title').value = '';
      document.getElementById('date').value = '';
      document.getElementById('imageURL').value = '';
      document.getElementById('contentInput').value = '';
    }

    function renderPosts() {
      postList.innerHTML = '';
      posts.forEach((post, index) => {
        const postDiv = document.createElement('div');
        postDiv.className = 'post';
        postDiv.innerHTML = `
          <img src="${post.imageURL}" alt="주보 이미지">
          <div class="post-info">
            <h3>${post.title}</h3>
            <p>${post.date}</p>
            <p>${post.content}</p>
          </div>
          <div class="buttons">
            <button onclick="editPost(${index})">수정</button>
            <button onclick="deletePost(${index})">삭제</button>
          </div>
        `;
        postList.appendChild(postDiv);
      });
    }

    function editPost(index) {
      const post = posts[index];
      document.getElementById('title').value = post.title;
      document.getElementById('date').value = post.date;
      document.getElementById('imageURL').value = post.imageURL;
      document.getElementById('contentInput').value = post.content;
      toggleForm();
      deletePost(index);
    }

    function deletePost(index) {
      posts.splice(index, 1);
      renderPosts();
    }

    // ===== 초기 더미 데이터 =====
    posts.push({
      title: '2025년 12월 1주차 주보',
      date: '2025-12-01',
      imageURL: 'images/weekly1.jpg',
      content: '이번 주 예배 안내 및 교회 소식입니다.'
    });
    renderPosts();
  </script>
</body>
</html>
